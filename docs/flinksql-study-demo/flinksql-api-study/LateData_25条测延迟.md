# 延迟数据-精准一次-最佳实践



###  准备好, 按顺序发送如下数据

```shell

1,keyA, 1676101001, 10.0
2,keyA, 1676101005, 10.0
3,keyA, 1676101003, 10.1

4,keyA, 1676101022, 10.0
5,keyA, 1676101004, 10.2
6,keyA, 1676101023, 10.0
7,keyA, 1676101021, 10.1

8,keyA, 1676101032, 10.0
9,keyA, 1676101033, 10.0
10,keyA, 1676101034, 10.0
11,keyA, 1676101031, 10.1
12,keyA, 1676101035, 10.0
13,keyA, 1676101002, 10.3

14,keyA, 1676102042, 10.0
15,keyA, 1676102043, 10.0
16,keyA, 1676101024, 10.3
17,keyA, 1676102044, 10.0
18,keyA, 1676102041, 10.1
19,keyA, 1676102045, 10.0

20,keyA, 1676105051, 10.0
21,keyA, 1676105052, 10.0
22,keyA, 1676101025, 10.4
23,keyA, 1676105053, 10.0
24,keyA, 1676105054, 10.0
25,keyA, 1676105055, 10.0

```


乱序情况汇总:
case: 1 窗口内乱序: w1: 03 再05后面到;  w2中t21到t25后;  w3中t31到t34后
case 2: 相邻窗口乱序, w2中有w1数据:
case 3: 跨1个窗口乱序: w3中有w1的数据; w4中有w2的数据;
case 4: 跨多窗口长乱序;  w5中有w2的数据;


###  10s window 设计

10sWindow, 十秒窗口; 1676101001,  2023-02-11 15:36:41

--w1, late01_窗口内乱序
1,keyA, 1676101001, 10.0
2,keyA, 1676101005, 10.0
3,keyA, 1676101003, 10.1

-- w2, late01_窗口内乱序 + late02_相邻窗口乱序
4,keyA, 1676101022, 10.0
5,keyA, 1676101004, 10.2
6,keyA, 1676101023, 10.0
7,keyA, 1676101021, 10.1

-- w3, late01_窗口内乱序 + late03_跨1个窗口乱序
8,keyA, 1676101032, 10.0
9,keyA, 1676101033, 10.0
10,keyA, 1676101034, 10.0
11,keyA, 1676101031, 10.1
12,keyA, 1676101035, 10.0
13,keyA, 1676101002, 10.3

-- w4 , late01_窗口内乱序 + late03_跨1个窗口乱序
14,keyA, 1676102042, 10.0
15,keyA, 1676102043, 10.0
16,keyA, 1676101024, 10.3
17,keyA, 1676102044, 10.0
18,keyA, 1676102041, 10.1
19,keyA, 1676102045, 10.0


-- w5, late01_窗口内乱序 + late04_跨多窗口长乱序:
20,keyA, 1676105051, 10.0
21,keyA, 1676105052, 10.0
22,keyA, 1676101025, 10.4
23,keyA, 1676105053, 10.0
24,keyA, 1676105054, 10.0
25,keyA, 1676105055, 10.0


